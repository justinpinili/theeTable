
<div ng-if="room">
	<div class="container">
		<div class="row">
			<center>
				<b><h2>{{ room.name }}</h2></b>
				<p>
					{{ room.users.length }} user(s) in this room.<br />
				</p>
			</center>
		</div>
	</div>
</div>
<div ng-if="room">
	<div class="container">
		<div class="row">
			<div class="col-md-6">
				<div class="panel panel-primary">
					<div class="panel-heading">
						<h4 ng-if="title">{{ title }}</h4>
						<h4 ng-if="!title">No Song Playing.</h4>
					</div>
					<div class="panel-body">
						<div class="queue-outer">
							<div class="queue-table">
							<table class="table table-striped">
								<thead>
									<tr>
										<th>Current Queue</th>
									</tr>
								</thead>
								<tbody>
									<tr ng-if="room.queue.length === 0">
										<td>None</td>
									</tr>
									<tr ng-if="room.queue.length > 0" ng-repeat="user in room.queue">
										<td>{{ user }}</td>
									</tr>
								</tbody>
							</table>
							</div>
						</div><br />
						<span ng-if="currentUser.playlist[0]"><b>Song on Deck:</b> {{ currentUser.playlist[0].source }}</span>
						<div class="soundcloud">
							<sound-cloud-player socket="socket" current-song='room.currentSong' room="room" username="$parent.currentUser.username" title="title"></sound-cloud-player>
						</div>
					</div>
				</div>
				<button ng-click="addToQueue()" class="btn btn-default">Enter Queue</button>
				<button ng-click="managePlaylist()" class="btn btn-default"> Manage Your Playlist </button><br />
			</div>
			<div class="col-md-6">
				<div class="panel panel-primary chats">
					<h4><b>Messages</b></h4>
					<div ng-repeat="chat in room.chat">
						<b>{{ chat.user }}</b>: {{ chat.msg }}
					</div>
				</div>
				<div>
					<form name="chatForm" ng-submit='submitMessage(newChatMessage.msg)' novalidate>
						<div class="form-group">
							<div class="form-group form-group-md">
								<div class="input-group input-group-md">
									<input type="text" name="message" ng-model="newChatMessage.msg" class="form-control floating-label" placeholder="Send a message."/>
									<span class="input-group-btn">
										<button type="submit" ng-disabled="submitMessageDisabled()" class="btn btn-default">Send</button>
									</span>
								</div>
						</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
</div>

<script>
	$(document).ready(function() {
			$.material.init();
	});
</script>
